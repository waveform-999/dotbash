alias ca='vi ~/.bash/aliases'
alias src='source ~/.bashrc'

alias l="ls -B --ignore='*.pyc'"
alias ll='ls -l -B'
alias la='ls -a'

# .. goes up a directory
alias ..='cd ..'
# - goes back a directory
alias -- -='cd -'

alias rm='rm -i'
alias vi='vim'

alias iv='viewnior'

alias u="amixer set Master 5%+ | grep -o '\[.*%\]'"
alias d="amixer set Master 5%- | grep -o '\[.*%\]'"

alias armory="python /usr/share/armory/ArmoryQt.py --offline"

alias radio3="mplayer -playlist http://www.bbc.co.uk/radio/listen/live/r3_aaclca.pls"

function make_ssh_tunnel {
    # make a tunnel for rdesktop to go through
    # run it in the background and return the socket file
    # https://stackoverflow.com/questions/2241063/bash-script-to-setup-a-temporary-ssh-tunnel
    socket_file='/tmp/rdesktop_ssh_socket'
    ssh -C -L 3388:see4-82:3389 eeaol@gw -Nfo ExitOnForwardFailure=yes -M -S $socket_file
    }

function exit_ssh_tunnel {
    # exit the ssh tunnel created with make_ssh_tunnel
    ssh -S $socket_file -O exit eeaol@gw
    }

function rdesktop_command {
    make_ssh_tunnel
    nohup rdesktop localhost:3388 -d DS -u eeaol -a 16 -f -P -x broadband -z > /dev/null &
    # exit_ssh_tunnel
    }

alias piv='rdesktop_command'
alias dad='ssh -tX doug-and-duck "cd $PWD; bash -l"'

function start_ipython_tunnel {
    # make a tunnel from this machine to doug-and-duck
    # so that we can run an ipython notebook on doug-and-duck
    # and interact with it on this machine (localhost)

    # create the tunnel in the background
    ssh -X -N -f -L localhost:8898:localhost:8898 doug-and-duck

    # start the notebook on doug-and-duck
    ## command to setup canopy
    canopy_up='source /home/eeaol/src/canopy/User/bin/activate'
    notebook_up='PYTHONPATH=/home/eeaol/code/ ipython notebook --no-browser --port=8898 --notebook-dir=/home/eeaol/code/notebooks &'
    ssh -f doug-and-duck "${canopy_up}; ${notebook_up}"

    # wait for notebook to get started
    echo "spinning up notebook on doug-and-duck..."
    sleep 2

    # connect to the notebook on this machine
    firefox -no-remote -P ipython & disown
    # I created a firefox profile called 'ipython' that has its
    # homepage set to '127.0.0.1:8898'. This command starts a new
    # instance of firefox, i.e. independent of any current firefox
    # process, with this ipython profile. What should happen is a
    # new firefox window opens with the notebook server open.
    }
